<!DOCTYPE html>
<html>
<head>
    <title>–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞</title>
    <meta charset="UTF-8">
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .result { margin: 10px 0; padding: 10px; border: 1px solid #ccc; }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        button { margin: 5px; padding: 10px; }
    </style>
</head>
<body>
    <h1>üßπ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞</h1>
    
    <div>
        <h3>üîÑ –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –±—Ä–∞—É–∑–µ—Ä–∞:</h3>
        <button onclick="clearCache()">–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à</button>
        <button onclick="goToMainApp()">–ü–µ—Ä–µ–π—Ç–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
        <div id="results"></div>
    </div>

    <script>
        function clearCache() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<p>üîÑ –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞...</p>';
            
            // –û—á–∏—â–∞–µ–º –∫—ç—à
            if ('caches' in window) {
                caches.keys().then(names => {
                    names.forEach(name => {
                        caches.delete(name);
                        console.log('üóëÔ∏è –£–¥–∞–ª–µ–Ω –∫—ç—à:', name);
                    });
                });
            }

            // –û—á–∏—â–∞–µ–º localStorage
            localStorage.clear();
            console.log('üóëÔ∏è –û—á–∏—â–µ–Ω localStorage');

            // –û—á–∏—â–∞–µ–º sessionStorage
            sessionStorage.clear();
            console.log('üóëÔ∏è –û—á–∏—â–µ–Ω sessionStorage');

            resultsDiv.innerHTML = '<div class="success"><h4>‚úÖ –ö—ç—à –æ—á–∏—â–µ–Ω!</h4><p>–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</p></div>';
        }

        function goToMainApp() {
            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –æ—á–∏—Å—Ç–∫–æ–π –∫—ç—à–∞
            window.location.href = '/time?v=' + Date.now();
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ–º –∫—ç—à –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = function() {
            clearCache();
        };
    </script>
</body>
</html>
