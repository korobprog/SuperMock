# üöÄ CI/CD - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## ‚ö° –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∑–∞ 5 –º–∏–Ω—É—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ GitHub Secrets
```
GitHub Repository ‚Üí Settings ‚Üí Secrets and variables ‚Üí Actions
```

–î–æ–±–∞–≤—å—Ç–µ:
- `DEPLOY_HOST`: `217.198.6.238`
- `DEPLOY_USER`: `root`
- `DEPLOY_SSH_KEY`: —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `~/.ssh/timeweb_vps_key`
- `DEPLOY_PATH`: `/opt/mockmate`

### 2. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –≤–µ—Ç–∫—É master –≤ main
```bash
git branch -m master main
git push origin main
git push origin --delete master
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π
```bash
git add .
git commit -m "feat: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD"
git push origin main
```

## üéØ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

1. **Push –≤ main** ‚Üí –∑–∞–ø—É—Å–∫ CI/CD
2. **–°–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç—ã** ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
3. **–°–æ–∑–¥–∞–Ω–∏–µ Docker –æ–±—Ä–∞–∑–æ–≤** ‚Üí –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é
4. **–î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä** ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ production
5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏** ‚Üí health checks

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **GitHub Actions** ‚Üí —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–º
- **–õ–æ–≥–∏** ‚Üí –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- **–°—Ç–∞—Ç—É—Å** ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ CI/CD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
./scripts/test-ci-cd.sh

# –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ workflow
# GitHub ‚Üí Actions ‚Üí Deploy to Production Server ‚Üí Run workflow

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh -i ~/.ssh/timeweb_vps_key root@217.198.6.238 "docker ps --filter 'name=supermock'"
```

## üö® –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ GitHub Secrets** - –≤—Å–µ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
2. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏** –≤ GitHub Actions
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä–≤–µ—Ä** - –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
4. **–û—Ç–∫–∞—Ç–∏—Ç–µ—Å—å** –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –∏–∑ backup

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD](.github/SETUP_CI_CD.md)
- [–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è](DOCKS/DEPLOYMENT_ISSUES_SOLUTIONS.md)

---

**üéâ –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: –∫–∞–∂–¥—ã–π push –≤ main = –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π!**
