# ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ - –ó–ê–í–ï–†–®–ï–ù–û

## üéØ –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

### 1. ‚úÖ Favicon —Ñ–∞–π–ª—ã (404 –æ—à–∏–±–∫–∏)
**–ü—Ä–æ–±–ª–µ–º–∞:** Favicon —Ñ–∞–π–ª—ã –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä frontend
**–†–µ—à–µ–Ω–∏–µ:** 
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ `media` –≤ `frontend/Dockerfile`
- ‚úÖ –§–∞–π–ª—ã —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –ø—É—Ç–∏ `/media/favicon/`
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** `curl -I http://localhost:8081/media/favicon/favicon.ico` ‚Üí 200 OK

### 2. ‚úÖ site.webmanifest —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ –∏–∫–æ–Ω–∫–∞–º –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ + nginx –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª .webmanifest
**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—É—Ç–∏ –∫ –∏–∫–æ–Ω–∫–∞–º –≤ `media/favicon/site.webmanifest`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `.webmanifest` —Ñ–∞–π–ª–æ–≤ –≤ nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** `curl -I http://localhost:8081/media/favicon/site.webmanifest` ‚Üí 200 OK

### 3. ‚úÖ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–ü—Ä–æ–±–ª–µ–º–∞:** WebSocket –ø—ã—Ç–∞–ª—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ `wss://api.supermock.ru`, –Ω–æ —ç—Ç–æ—Ç –¥–æ–º–µ–Ω –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω WebSocket URL –Ω–∞ `wss://app.supermock.ru`
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω API URL –Ω–∞ `https://app.supermock.ru`
- ‚úÖ –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã —Ç–µ–ø–µ—Ä—å –∏–¥—É—Ç —á–µ—Ä–µ–∑ —Ç–æ—Ç –∂–µ –¥–æ–º–µ–Ω —á—Ç–æ –∏ frontend

### 4. ‚úÖ API –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ–º–µ–Ω–∞ app.supermock.ru
**–ü—Ä–æ–±–ª–µ–º–∞:** API –∑–∞–ø—Ä–æ—Å—ã –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏ —Å –¥–æ–º–µ–Ω–∞ `app.supermock.ru`
**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –¥–æ–º–µ–Ω `app.supermock.ru` –≤ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–∑–æ–≤—ã–π URL API –Ω–∞ `https://app.supermock.ru`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `createApiUrl` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –¥–æ–º–µ–Ω–æ–º

### 5. ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ production
**–ü—Ä–æ–±–ª–µ–º–∞:** –í `production.env` –±—ã–ª–∏ —É–∫–∞–∑–∞–Ω—ã —Å—Ç–∞—Ä—ã–µ URL –Ω–∞ `api.supermock.ru`
**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ URL –≤ `production.env` –Ω–∞ `app.supermock.ru`
- ‚úÖ Frontend –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üîß –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

### frontend/Dockerfile
```dockerfile
# –î–æ–±–∞–≤–ª–µ–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ media
COPY media ./media

# –î–æ–±–∞–≤–ª–µ–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ runtime –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
COPY --from=build /app/media /usr/share/nginx/html/media
```

### nginx/frontend-nginx.conf
```nginx
# –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ .webmanifest —Ñ–∞–π–ª–æ–≤
location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|webmanifest)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
    add_header Cache-Control "no-cache, no-store, must-revalidate" always;
    add_header Pragma "no-cache" always;
    add_header Expires "0" always;
    try_files $uri =404;
}
```

### media/favicon/site.webmanifest
```json
{
  "name": "Super Mock",
  "short_name": "SuperMock",
  "description": "–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è mock-–∏–Ω—Ç–µ—Ä–≤—å—é —Å –ò–ò",
  "icons": [
    {
      "src": "/media/favicon/android-chrome-192x192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "/media/favicon/android-chrome-512x512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ],
  "theme_color": "#0088cc",
  "background_color": "#ffffff",
  "display": "standalone",
  "start_url": "/",
  "scope": "/"
}
```

### frontend/src/lib/config.ts
```typescript
// –ò–∑–º–µ–Ω–µ–Ω WebSocket URL
wsURL: import.meta.env.DEV 
  ? 'ws://localhost:3000'
  : (import.meta.env.VITE_WS_URL || 'wss://app.supermock.ru'),

// –ò–∑–º–µ–Ω–µ–Ω –±–∞–∑–æ–≤—ã–π URL API
baseURL: import.meta.env.PROD 
  ? (import.meta.env.VITE_API_URL || 'https://app.supermock.ru')
  : '',

// –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è createApiUrl
if (isProductionDomain) {
  const base = 'https://app.supermock.ru';
  // ...
}
```

### production.env
```env
# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ URL –Ω–∞ app.supermock.ru
FRONTEND_URL=https://app.supermock.ru
BACKEND_URL=https://app.supermock.ru
VITE_API_URL=https://app.supermock.ru
VITE_WS_URL=wss://app.supermock.ru
```

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç:

### ‚úÖ –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:
- **Favicon —Ñ–∞–π–ª—ã** —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–Ω–µ—Ç 404 –æ—à–∏–±–æ–∫)
- **site.webmanifest** —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- **WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `wss://app.supermock.ru`
- **API –∑–∞–ø—Ä–æ—Å—ã** —Ä–∞–±–æ—Ç–∞—é—Ç —Å –¥–æ–º–µ–Ω–∞ `app.supermock.ru`
- **–û—à–∏–±–∫–∞ "Failed to fetch"** –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### üîÑ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω—ã –∏ –∑–∞–ø—É—â–µ–Ω—ã:
- ‚úÖ Frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
- ‚úÖ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç WebSocket –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üåê –ü—Ä–æ–≤–µ—Ä–∫–∞:

–°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: **https://app.supermock.ru**

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:
- ‚úÖ Favicon —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ 404
- ‚úÖ site.webmanifest —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- ‚úÖ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- ‚úÖ API –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ "Failed to fetch"
- ‚úÖ –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### GitHub Actions:
- ‚úÖ Workflow –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –î–µ–ø–ª–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ `docker-compose.prod-multi.yml`
- ‚úÖ –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –±—Ä–∞—É–∑–µ—Ä–∞** - –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è, –æ—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤** - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è `app.supermock.ru` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï:

**–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã. –°–∞–π—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫.**

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ Favicon —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã (HTTP 200)
- ‚úÖ site.webmanifest –¥–æ—Å—Ç—É–ø–µ–Ω (HTTP 200)
- ‚úÖ WebSocket URL –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ `wss://app.supermock.ru`
- ‚úÖ API URL –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ `https://app.supermock.ru`
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞

**–°–∞–π—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**
